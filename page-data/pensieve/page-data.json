{
    "componentChunkName": "component---src-pages-pensieve-index-js",
    "path": "/pensieve/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"Docker Compose Error","description":"docker-compose version discrepancies","slug":"/pensieve/docker-error","date":"2019-12-13","tags":["WordPress","Docker"],"draft":false},"html":"<h2>Problem</h2>\n<p>Recently while updating with <a href=\"https://github.com/Upstatement/skela-wp-theme\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Skela</a> with webpack, I encountered a weird error where I wasn't able to run a simple script:</p>\n<div class=\"gatsby-code-title\">bin/composer</div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token function\">docker-compose</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-w</span> /var/www/html/wp-content/themes/skela wordpress <span class=\"token function\">composer</span> <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span></code></pre></div>\n<p>When trying to run this script via <code class=\"language-text\">./bin/composer install</code>, I got this error in my terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ERROR: Setting workdir <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">exec</span> is not supported <span class=\"token keyword\">in</span> API <span class=\"token operator\">&lt;</span> <span class=\"token number\">1.35</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1.30</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The error was coming from the <code class=\"language-text\">-w</code> flag in the <code class=\"language-text\">docker-compose exec</code> command in the <code class=\"language-text\">composer</code> script.</p>\n<h2>Solution</h2>\n<p>Turns The fix was to update the version in my <code class=\"language-text\">docker-compose.yml</code> file to from version <code class=\"language-text\">3.5</code> to <code class=\"language-text\">3.6</code>. It's strange because 3.5 isn't anywhere close to the API version <code class=\"language-text\">1.35</code> from the error message ü§∑‚Äç‚ôÄÔ∏è</p>\n<div class=\"gatsby-code-title\">docker-compose.yml</div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"gatsby-highlight-code-line\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'3.6'</span></span><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">wordpress</span><span class=\"token punctuation\">:</span>\n    build<span class=\"token punctuation\">:</span></code></pre></div>"}},{"node":{"frontmatter":{"title":"WordPress Publishing Error","description":"Trying to create a simple post in WordPress","slug":"/pensieve/wordpress-publish-error","date":"2019-12-03","tags":["WordPress"],"draft":false},"html":"<h2>Problem</h2>\n<p>Recently while working on a WordPress project with <a href=\"https://github.com/Upstatement/ups-dock\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ups Dock</a>, I encountered a weird error where I wasn't able to update or publish a simple post in my local WP admin.</p>\n<p>It looked something like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9a7943feb3c4ee95b43801cfda486beb/8e621/draft-fail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABEklEQVR42n2QzW6DMBCEeds+XqVeeu2xUk+VmlN/1BAgEEiAALGNbb6u3eRSNbE87BrbM+NJjNY4azHGsHiPdy7WW5APk54ZtQWjeFytubt/4eHpmaT9/EJnOb6q8GUFdY0rS0xeMF9DUaDSjKYoSbcV213DtjnQ9keSSsjy7zXtbsdeiFIR6OoG5hmvNF7/D3kSbXfkfVNQ7w/iepG5kBRC8iEkmzwnzTJe31ai1BPGwu0xi+hpGiORso7DpEm8ZDKHDGXTSX7eL2htYh9Jz8oBwUX4r4JzuRfODeOIFrdNPzBIromTDSvs4WCAFfJQI8GZ8G+99MHEMAz0bYtVKgomt550uXht/etWMUlEp66L/Q/HfB6vQKhLcwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Draft fail\"\n        title=\"Draft fail\"\n        src=\"/static/9a7943feb3c4ee95b43801cfda486beb/39600/draft-fail.png\"\n        srcset=\"/static/9a7943feb3c4ee95b43801cfda486beb/1aaec/draft-fail.png 175w,\n/static/9a7943feb3c4ee95b43801cfda486beb/98287/draft-fail.png 350w,\n/static/9a7943feb3c4ee95b43801cfda486beb/39600/draft-fail.png 700w,\n/static/9a7943feb3c4ee95b43801cfda486beb/57cd1/draft-fail.png 1050w,\n/static/9a7943feb3c4ee95b43801cfda486beb/4af54/draft-fail.png 1400w,\n/static/9a7943feb3c4ee95b43801cfda486beb/8e621/draft-fail.png 2234w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"eager\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Sometimes the error message would be slightly more helpful: <code class=\"language-text\">Publishing failed. Error message: The response is not a valid JSON response.</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c2362fe43c3b6f9628b1cc63d0bb00f9/04410/publish-error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbElEQVR42k2MRxKAMAwD+f/fKGmQhDJ0Qhm+IGyfOOzYsiVlT2yxO4ezaQiPOwRcBM+/vjzjwf4nRrpH0Zzlf6L823XIuGgsK8xKY9Eam7HYrcNmLfo8lz3VtXgmpaTgIM3e1RiaBisxFIWUflnFjrHSYd9uAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Publish error\"\n        title=\"Publish error\"\n        src=\"/static/c2362fe43c3b6f9628b1cc63d0bb00f9/39600/publish-error.png\"\n        srcset=\"/static/c2362fe43c3b6f9628b1cc63d0bb00f9/1aaec/publish-error.png 175w,\n/static/c2362fe43c3b6f9628b1cc63d0bb00f9/98287/publish-error.png 350w,\n/static/c2362fe43c3b6f9628b1cc63d0bb00f9/39600/publish-error.png 700w,\n/static/c2362fe43c3b6f9628b1cc63d0bb00f9/04410/publish-error.png 956w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"eager\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>And if I popped open the console, I saw these errors:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0dc960ad57313c7b34df2794f8954458/fb77c/console-errors.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.571428571428573%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2klEQVR42lWPzW6CUBSEiQt3JrQYS1TwB3XXRVdtik1LqsD1Ate+/8NMv0O66eJkhjN35gzR52Mit92qzjJdwS+wO530DVbHo6rdTjX726FQU+zBw6hd2LmiGLVmzx7+kaaK3mYzBUztYqEe/EEIzJ2AQGBnYXmuAa3bbP599/CenYef8b/GsaIqflDLxTp9kudhvV7rTmC7WukKNtYkzxRo0TMD06A5gozbEf93pLTAl+lUgQd+uRzNnhDPbw3WDrQD1spjbDEZdxRw1pLAcj7XO+3KJNHzZKJfV794ge2yBZQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Console errors\"\n        title=\"Console errors\"\n        src=\"/static/0dc960ad57313c7b34df2794f8954458/39600/console-errors.png\"\n        srcset=\"/static/0dc960ad57313c7b34df2794f8954458/1aaec/console-errors.png 175w,\n/static/0dc960ad57313c7b34df2794f8954458/98287/console-errors.png 350w,\n/static/0dc960ad57313c7b34df2794f8954458/39600/console-errors.png 700w,\n/static/0dc960ad57313c7b34df2794f8954458/57cd1/console-errors.png 1050w,\n/static/0dc960ad57313c7b34df2794f8954458/fb77c/console-errors.png 1185w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"eager\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>Solution</h2>\n<p>Since the error message had to do with a JSON response, I initially thought it was a Gutenberg or ACF issue. But it turned out this was happening because I was on the https WP admin (i.e. <a href=\"https://project.ups.dock/wp-admin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://project.ups.dock/wp-admin</a>), not the unsecure WP admin (<a href=\"http://project.ups.dock/wp-admin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://project.ups.dock/wp-admin</a>).</p>\n<p>It was a CORS error!! I was trying to modify a non-https domain from a https domain. Switching to a non-https WP admin allowed me to publish posts with no problem.</p>"}}]}},"pageContext":{}},
    "staticQueryHashes": ["3115057458"]}